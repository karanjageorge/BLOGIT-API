generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model User {
  id           String   @id @default(uuid()) @map("UserId")
  firstName    String   @map("FirstName")
  lastName     String   @map("LastName")
  emailAddress String   @unique @map("EmailAddress")
  userName     String   @unique @map("Username")
  password     String   @map("Password")
  isDeleted    Boolean  @default(false) @map("IsDeleted")
  dateJoined   DateTime @default(now()) @map("DateJoined")
  lastUpdated  DateTime @updatedAt @map("LastUpdated")

  blog Blog[]

  @@map("UserTable")
}

model Blog {
  id               String   @id @default(uuid()) @map("BlogID")
  blogTitle        String   @map("BlogTitle")///the @updatedAt attribute tells prisma to automatically set the LastUpdated = NOW() every time the record is updated in anyway i.e update,delete,restore from bin so no need to add the lastUpdate = NOW() on the functions of the operations
  blogSynopsis     String   @map("BlogSynopsis")
  featuredImageUrl String?  @default("") @map("FeaturedImageUrl")
  blogContent      String   @map("BlogContent")
  isDeleted        Boolean  @default(false) @map("IsDeleted")
  createdAt        DateTime @default(now()) @map("CreatedAt")
  lastUpdated      DateTime @updatedAt @map("LastUpdated") 

  //one to many relationships
  userId String @map("UserId")
  user   User   @relation(fields: [userId], references: [id])

  @@map("Blogs")
}
